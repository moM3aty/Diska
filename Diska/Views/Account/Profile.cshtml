@model Diska.Models.ApplicationUser
@using System.Globalization
@{
    bool isAr = CultureInfo.CurrentCulture.Name.StartsWith("ar");
    ViewData["Title"] = isAr ? "الملف الشخصي" : "Profile";
}

<section class="section-padding">
    <div class="container">
        <div class="profile-grid" style="display:grid; grid-template-columns: 1fr 3fr; gap:30px;">

            <!-- Sidebar -->
            <div class="profile-sidebar" style="background:#fff; padding:30px; border-radius:15px; border:1px solid #eee; height:fit-content;">
                <div style="text-align:center; margin-bottom:20px;">
                    <div style="width:80px; height:80px; background:#f1f5f9; border-radius:50%; margin:0 auto 15px; display:flex; align-items:center; justify-content:center; font-size:2rem; color:#64748b;">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 style="margin:0; font-size:1.2rem;">@Model.FullName</h3>
                    <p style="color:#666; font-size:0.9rem;">@Model.PhoneNumber</p>
                    @if (!string.IsNullOrEmpty(Model.ShopName))
                    {
                        <span class="badge" style="background:#e0f2fe; color:#0284c7; padding:5px 10px; margin-top:5px; display:inline-block;">@Model.ShopName</span>
                    }
                </div>

                <div class="wallet-box" style="background: linear-gradient(135deg, #0F172A 0%, #334155 100%); color:#fff; padding:20px; border-radius:10px; margin-bottom:20px; text-align:center;">
                    <small style="opacity:0.8;">@(isAr ? "رصيد المحفظة" : "Wallet Balance")</small>
                    <div style="font-size:1.8rem; font-weight:bold; color:#FACC15; margin-top:5px;">
                        @Model.WalletBalance.ToString("N2") <span style="font-size:1rem;">ج.م</span>
                    </div>
                </div>

                <ul class="sidebar-links" style="list-style:none; padding:0;">
                    <li style="margin-bottom:10px;">
                        <a asp-action="Profile" class="active" style="display:block; padding:10px; background:#f8fafc; border-radius:8px; color:var(--primary); font-weight:bold;">
                            <i class="fas fa-tachometer-alt"></i> @(isAr ? "نظرة عامة" : "Overview")
                        </a>
                    </li>
                    <li style="margin-bottom:10px;">
                        <a asp-controller="Order" asp-action="MyOrders" style="display:block; padding:10px; color:#666; text-decoration:none;">
                            <i class="fas fa-box"></i> @(isAr ? "طلباتي" : "My Orders")
                        </a>
                    </li>
                    <li style="margin-bottom:10px;">
                        <a asp-action="Settings" style="display:block; padding:10px; color:#666; text-decoration:none;">
                            <i class="fas fa-cog"></i> @(isAr ? "الإعدادات" : "Settings")
                        </a>
                    </li>
                    <li style="margin-top:20px; border-top:1px solid #eee; padding-top:10px;">
                        <a asp-action="Logout" style="display:block; padding:10px; color:red; text-decoration:none;">
                            <i class="fas fa-sign-out-alt"></i> @(isAr ? "تسجيل خروج" : "Logout")
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Content -->
            <div class="profile-content">
                <div style="background:#fff; padding:30px; border-radius:15px; border:1px solid #eee; margin-bottom:20px;">
                    <h3 style="margin-bottom:20px; color:var(--primary);">@(isAr ? "أهلاً بك في ديسكا" : "Welcome to Diska")</h3>
                    <p style="color:#666; line-height:1.6;">
                        @(isAr ? "من هنا يمكنك متابعة حالة طلباتك، مراجعة رصيد محفظتك، وتحديث بياناتك الشخصية. إذا كنت تاجراً، يمكنك الوصول للوحة التحكم الخاصة بك من القائمة العلوية."
                                                : "Here you can track your orders, check wallet balance, and update personal info. If you are a merchant, access your dashboard from the top menu.")
                    </p>
                </div>

                <div class="quick-stats" style="display:grid; grid-template-columns: repeat(3, 1fr); gap:20px;">
                    <!-- Stats Placeholders -->
                    <div style="background:#fff; padding:20px; border-radius:10px; border:1px solid #eee; text-align:center;">
                        <i class="fas fa-shopping-basket fa-2x" style="color:#10b981; margin-bottom:10px;"></i>
                        <h4 style="margin:0;">@ViewBag.OrdersCount</h4>
                        <small style="color:#666;">@(isAr ? "طلبات مكتملة" : "Completed Orders")</small>
                    </div>
                    <div style="background:#fff; padding:20px; border-radius:10px; border:1px solid #eee; text-align:center;">
                        <i class="fas fa-clock fa-2x" style="color:#f59e0b; margin-bottom:10px;"></i>
                        <h4 style="margin:0;">@ViewBag.PendingCount</h4>
                        <small style="color:#666;">@(isAr ? "قيد الانتظار" : "Pending")</small>
                    </div>
                    <div style="background:#fff; padding:20px; border-radius:10px; border:1px solid #eee; text-align:center;">
                        <i class="fas fa-heart fa-2x" style="color:#ef4444; margin-bottom:10px;"></i>
                        <h4 style="margin:0;">@ViewBag.WishlistCount</h4>
                        <small style="color:#666;">@(isAr ? "المفضلة" : "Wishlist")</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>