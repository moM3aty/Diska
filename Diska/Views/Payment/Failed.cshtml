@using System.Globalization
@{
    bool isAr = CultureInfo.CurrentCulture.Name.StartsWith("ar");
    ViewData["Title"] = isAr ? "فشل الدفع" : "Payment Failed";
    int orderId = ViewBag.OrderId ?? 0;
}

<section class="section-padding" style="min-height: 70vh; display: flex; align-items: center;">
    <div class="container text-center">
        <div class="card border-0 shadow-sm mx-auto p-5" style="max-width: 600px; border-radius: 20px; border-top: 5px solid #dc3545;">

            <div class="mb-4">
                <div style="width: 80px; height: 80px; background: #fee2e2; color: #dc3545; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto;">
                    <i class="fas fa-times fa-3x"></i>
                </div>
            </div>

            <h2 class="text-danger mb-3">@(isAr ? "عفواً، فشلت عملية الدفع" : "Payment Failed")</h2>
            <p class="text-muted mb-4">
                @(isAr ? "لم نتمكن من إتمام عملية الدفع. قد يكون السبب رفض من البنك أو خطأ في الاتصال. يمكنك المحاولة مرة أخرى." : "We couldn't process your payment. This might be due to a bank decline or connection error. You can try again.")
            </p>

            <div class="d-flex justify-content-center gap-3">
                <a asp-action="Checkout" asp-route-orderId="@orderId" class="btn btn-primary px-4 py-2">
                    <i class="fas fa-redo me-2"></i> @(isAr ? "حاول مرة أخرى" : "Try Again")
                </a>
                <a href="/Home/Contact" class="btn btn-outline-secondary px-4 py-2">
                    <i class="fas fa-headset me-2"></i> @(isAr ? "الدعم الفني" : "Support")
                </a>
            </div>

        </div>
    </div>
</section>